<style>

/* ===== MODAL GLASS EFFECT ===== */

.modal-content{
    background:rgba(20,20,20,0.92);
    backdrop-filter:blur(25px);
    border-radius:20px;
    border:1px solid rgba(255,255,255,0.08);
    box-shadow:0 25px 60px rgba(0,0,0,0.7);
    color:white;
    animation:modalFade 0.35s ease;
}

@keyframes modalFade{
    from{
        opacity:0;
        transform:translateY(-25px) scale(0.95);
    }
    to{
        opacity:1;
        transform:translateY(0) scale(1);
    }
}


/* ===== HEADER ===== */

.modal-header{
    border-bottom:1px solid rgba(255,255,255,0.08);
}

.modal-title{
    font-weight:700;
    font-size:1.4rem;
    background:linear-gradient(90deg,#00f2fe,#4facfe,#00ff87);
    background-clip:text;
    -webkit-background-clip:text;
    color:transparent;
}


/* ===== IMAGE ===== */

.modal-product-image{
    width:100%;
    max-height:220px;
    object-fit:contain;
    margin-bottom:15px;
    transition:0.3s;
}

.modal-product-image:hover{
    transform:scale(1.05);
}


/* ===== BODY ===== */

.modal-body{
    font-size:1.05rem;
    text-align:center;
}

.modal-price{
    font-size:1.4rem;
    font-weight:700;
    color:#00ff87;
    margin-top:10px;
}


/* ===== FOOTER ===== */

.modal-footer{
    border-top:1px solid rgba(255,255,255,0.08);
}


/* ===== BUTTONS ===== */

.btn-close-custom{
    background:linear-gradient(90deg,#ff416c,#ff4b2b);
    border:none;
    border-radius:25px;
    padding:8px 20px;
    font-weight:600;
    color:white;
    transition:0.3s;
}

.btn-close-custom:hover{
    transform:scale(1.08);
}

.btn-buy-custom{
    background:linear-gradient(90deg,#00ff87,#00c853);
    border:none;
    border-radius:25px;
    padding:8px 20px;
    font-weight:600;
    color:black;
    transition:0.3s;
}

.btn-buy-custom:hover{
    transform:scale(1.08);
    box-shadow:0 0 15px #00ff87;
}

</style>



<!-- ================= MORE INFO MODAL ================= -->

<div class="modal fade"
     id="Modal-MoreInfo-{{ item.id }}"
     tabindex="-1">

  <div class="modal-dialog modal-dialog-centered">

    <div class="modal-content">

      <div class="modal-header">

        <h5 class="modal-title">
            {{ item.name }}
        </h5>

        <button type="button"
                class="close text-white"
                data-dismiss="modal">

            &times;

        </button>

      </div>


      <div class="modal-body">

        <!-- PRODUCT IMAGE -->
        <img src="{{ url_for('static', filename=item.image) if item.image else url_for('static', filename='images/default.png') }}"
             class="modal-product-image">

        <!-- DESCRIPTION -->
        <p>
            {{ item.description }}
        </p>

        <!-- PRICE -->
        <div class="modal-price">
            ${{ item.price }}
        </div>

      </div>


      <div class="modal-footer">

        <button type="button"
                class="btn btn-close-custom"
                data-dismiss="modal">

            Close

        </button>

      </div>

    </div>

  </div>

</div>




<!-- ================= PURCHASE MODAL ================= -->

<div class="modal fade"
     id="Modal-PurchaseConfirm-{{ item.id }}"
     tabindex="-1">

  <div class="modal-dialog modal-dialog-centered">

    <div class="modal-content">

      <div class="modal-header">

        <h5 class="modal-title">

            Confirm Purchase

        </h5>

        <button type="button"
                class="close text-white"
                data-dismiss="modal">

            &times;

        </button>

      </div>


      <div class="modal-body">

        <!-- IMAGE -->
        <img src="{{ url_for('static', filename=item.image) if item.image else url_for('static', filename='images/default.png') }}"
             class="modal-product-image">


        <h5>
            Buy
            <span style="color:#00f2fe;">
                {{ item.name }}
            </span>
        </h5>


        <div class="modal-price">

            ${{ item.price }}

        </div>

      </div>


      <div class="modal-footer">

        <button type="button"
                class="btn btn-close-custom"
                data-dismiss="modal">

            Cancel

        </button>


        <form method="POST">
            {{ purchase_form.hidden_tag() }}

            <input type="hidden"
                   name="purchased_item"
                   value="{{ item.name }}">

            {{ purchase_form.submit_purchase(class="btn btn-buy-custom") }}

        </form>

      </div>

    </div>

  </div>

</div>