<!doctype html>
<html lang="en">

<head>

<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">

<link rel="stylesheet"
href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css">

<script src="https://kit.fontawesome.com/a076d05399.js"></script>

<link rel="icon"
type="image/png"
href="{{ url_for('static', filename='images/favicon.png') }}">

<title>
{% block title %}{% endblock %}
</title>


<style>

/* ================= BODY ================= */

body{
    margin:0;
    min-height:100vh;
    color:white;
    background:#05060f;
    overflow-x:hidden;
}


/* ================= ULTRA BACKGROUND ================= */

.ultra-bg{
    position:fixed;
    inset:0;
    z-index:-1;
    overflow:hidden;
}


/* GRADIENT MESH */

.mesh-layer{

    position:absolute;

    inset:-20%;

    background:

        radial-gradient(circle at 20% 30%, #00f2fe, transparent 40%),

        radial-gradient(circle at 80% 20%, #4facfe, transparent 40%),

        radial-gradient(circle at 50% 80%, #00ff87, transparent 40%);

    filter:blur(120px);

    animation:meshMove 20s ease-in-out infinite alternate;

}

@keyframes meshMove{

    0%{ transform:scale(1) rotate(0deg); }

    50%{ transform:scale(1.3) rotate(40deg); }

    100%{ transform:scale(1) rotate(80deg); }

}


/* PARTICLE CANVAS */

#particleCanvas{

    position:absolute;

    inset:0;

}


/* ================= GLASS NAVBAR ================= */

.navbar{

    background:rgba(0,0,0,0.6) !important;

    backdrop-filter:blur(15px);

    box-shadow:0 0 20px rgba(0,0,0,0.6);

}


/* LOGO */

.navbar-brand{

    font-size:1.6rem;

    font-weight:bold;

    background:linear-gradient(90deg,#00f2fe,#4facfe,#00ff87);

    background-clip:text;
    
    -webkit-background-clip:text;

    color:transparent !important;

}


/* NAV LINKS */

.nav-link{

    color:white !important;

    margin-right:15px;

    transition:0.3s;

}

.nav-link:hover{

    color:#00ff87 !important;

    transform:translateY(-2px);

}


/* BUDGET BADGE */

.budget-badge{

    display:flex;

    align-items:center;

    gap:8px;

    padding:6px 14px;

    border-radius:999px;

    background:rgba(255,255,255,0.1);

    backdrop-filter:blur(10px);

    box-shadow:0 0 15px rgba(255,215,0,0.3);

    transition:0.3s ease;

}

.budget-badge:hover{

    transform:scale(1.05);

    box-shadow:0 0 25px rgba(255,215,0,0.7);

}

.coin-icon{

    color:gold;

    animation:coinGlow 2s infinite alternate;

}

@keyframes coinGlow{

    from{ text-shadow:0 0 5px gold; }

    to{ text-shadow:0 0 20px gold; }

}


/* FLASH */

.alert{

    animation:slideDown 0.4s ease;

}

@keyframes slideDown{

    from{ transform:translateY(-20px); opacity:0; }

    to{ transform:translateY(0); opacity:1; }

}

</style>

</head>


<body>


<!-- ================= BACKGROUND ================= -->

<div class="ultra-bg">

<div class="mesh-layer"></div>

<canvas id="particleCanvas"></canvas>

</div>



<!-- ================= NAVBAR ================= -->

<nav class="navbar navbar-expand-md navbar-dark">

<a class="navbar-brand" href="#">

Flask Market

</a>

<button class="navbar-toggler"
type="button"
data-toggle="collapse"
data-target="#navbarNav">

<span class="navbar-toggler-icon"></span>

</button>


<div class="collapse navbar-collapse" id="navbarNav">


<ul class="navbar-nav mr-auto">

<li class="nav-item">

<a class="nav-link"
href="{{ url_for('home_page') }}">
Home
</a>

</li>


<li class="nav-item">

<a class="nav-link"
href="{{ url_for('market_page') }}">
Market
</a>

</li>

</ul>


{% if current_user.is_authenticated %}

<ul class="navbar-nav ml-auto align-items-center">


<li class="nav-item mr-3">

<div class="budget-badge">

<i class="fas fa-coins coin-icon"></i>

<span class="budget-amount">

{{ current_user.prettier_budget }}

</span>

</div>

</li>


<li class="nav-item">

<a class="nav-link">

Welcome, {{ current_user.username }}

</a>

</li>


<li class="nav-item">

<a class="nav-link text-danger"
href="{{ url_for('logout_page') }}">

Logout

</a>

</li>

</ul>


{% else %}

<ul class="navbar-nav ml-auto">

<li class="nav-item">

<a class="nav-link"
href="{{ url_for('login_page') }}">
Login
</a>

</li>


<li class="nav-item">

<a class="nav-link"
href="{{ url_for('register_page') }}">
Register
</a>

</li>

</ul>

{% endif %}

</div>

</nav>



<!-- FLASH -->

{% with messages = get_flashed_messages(with_categories=True) %}

{% if messages %}

{% for category, message in messages %}

<div class="alert alert-{{ category }} alert-dismissible fade show">

{{ message }}

<button type="button" class="close" data-dismiss="alert">

&times;

</button>

</div>

{% endfor %}

{% endif %}

{% endwith %}



{% block content %}
{% endblock %}



<!-- ================= PARTICLE SCRIPT ================= -->

<script>

const canvas = document.getElementById("particleCanvas");

const ctx = canvas.getContext("2d");

canvas.width = window.innerWidth;

canvas.height = window.innerHeight;


let particlesArray = [];


class Particle{

constructor(){

this.x = Math.random()*canvas.width;

this.y = Math.random()*canvas.height;

this.size = Math.random()*2;

this.speedX = (Math.random()-0.5)*0.5;

this.speedY = (Math.random()-0.5)*0.5;

}

update(){

this.x += this.speedX;

this.y += this.speedY;

if(this.x<0||this.x>canvas.width){this.speedX*=-1;}

if(this.y<0||this.y>canvas.height){this.speedY*=-1;}

}

draw(){

ctx.fillStyle="rgba(255,255,255,0.6)";

ctx.beginPath();

ctx.arc(this.x,this.y,this.size,0,Math.PI*2);

ctx.fill();

}

}


function init(){

particlesArray=[];

for(let i=0;i<80;i++){

particlesArray.push(new Particle());

}

}


function animate(){

ctx.clearRect(0,0,canvas.width,canvas.height);

for(let i=0;i<particlesArray.length;i++){

particlesArray[i].update();

particlesArray[i].draw();

}

requestAnimationFrame(animate);

}


init();

animate();


window.addEventListener("resize",()=>{

canvas.width=window.innerWidth;

canvas.height=window.innerHeight;

init();

});

</script>



<script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>

<script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js"></script>

<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>


</body>
</html>